var variantNumber = '<%= j params[:variant_number] %>';
var product_price = '<%= j params[:product_price] %>';
var product_id = '<%= j params[:product_id] %>';

var variantNumbers = <%= @variant_numbers.to_s.html_safe %>;

olookApp.mediator.publish("fadeOutMinicart", variantNumber);
olookApp.mediator.publish("updateMinicartInputs",variantNumbers, variantNumber, '<%= escape_javascript(hidden_field_tag("variant_numbers[]", params[:variant_number])) %>');

setTimeout(function() {
  olookApp.mediator.publish("updateMinicartData", product_id, product_price, variantNumber);  
  olookApp.mediator.publish("updateMinicartBoxDisplay");
  olookApp.mediator.publish("fadeInMinicart");  
},300);    
   
