var variantNumber = '<%= j params[:variant_number] %>';
var product_price = '<%= j params[:product_price] %>';
var product_id = '<%= j params[:product_id] %>';

var variantNumbers = <%= @variant_numbers.to_s.html_safe %>;

olookApp.mediator.publish(MinicartFadeOutManager.name, variantNumber);
olookApp.mediator.publish(MinicartInputsUpdater.name,variantNumbers, variantNumber, '<%= escape_javascript(hidden_field_tag("variant_numbers[]", params[:variant_number])) %>');

setTimeout(function() {
  olookApp.mediator.publish(MinicartDataUpdater.name, product_id, product_price, variantNumber);  
  olookApp.mediator.publish(MinicartBoxDisplayUpdater.name);
  olookApp.publish(MinicartFadeInManager.name);  
},300);    
   
