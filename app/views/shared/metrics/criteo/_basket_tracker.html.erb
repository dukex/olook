<script type="text/javascript" src="/assets/criteo.js" async="true"></script>
<script type="text/javascript">
  dataLayer.push({
      'CustomerId': '<%= raw current_user.try(:id) %>',
      'ProductsList': ['<%= raw cart.items.map{|item| item.variant.id }.join("','") %>'],
      'PriceList': ['<%= raw cart.items.map{|item| item.retail_price.to_s}.join("','") %>'],
      'QuantityList':  ['<%= raw cart.items.map{|item| item.quantity.to_s}.join("','") %>']
  });
</script>
