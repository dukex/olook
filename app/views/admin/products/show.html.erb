<h2>Product</h2>
<div class="inner">
  <p>
    <b>Name:</b>
    <%= @product.name %>
  </p>

  <p>
    <b>Model number:</b>
    <%= @product.model_number %>
  </p>

  <p>
    <b>Category:</b>
    <%= @product.category_humanize %>
  </p>

  <p>
    <b>Description:</b>
    <%= @product.description %>
  </p>
</div>

<h2>Images</h2>
<div class="inner">
  <table class="table">
    <tr>
      <th>Display On</th>
      <th>Image</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>

  <% @product.pictures.each do |picture| %>
    <tr>
      <td><%= picture.display_on_humanize %></td>
      <td><%= image_tag picture.image_url(:thumb).to_s %></td>
      <td><%= link_to 'Show', admin_product_picture_path(picture.product, picture) %></td>
      <td><%= link_to 'Edit', edit_admin_product_picture_path(picture.product, picture) %></td>
      <td><%= link_to 'Destroy', admin_product_picture_path(picture.product, picture), confirm: 'Are you sure?', method: :delete %></td>
    </tr>
  <% end %>
  </table>
  <div class="action-bar wat-cf">
    <div class="actions">
      <%= link_to 'Add a new picture', new_admin_product_picture_path(@product) %>
    </div>
  </div>
</div>

<h2>Details</h2>
<div class="inner">
  <table class="table">
    <tr>
      <th>Translation token</th>
      <th>Description</th>
      <th>Display On</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>

  <% @product.details.each do |detail| %>
    <tr>
      <td><%= detail.translation_token %></td>
      <td><%= detail.description %></td>
      <td><%= detail.display_on_humanize %></td>
      <td><%= link_to 'Show', admin_product_detail_path(detail.product, detail) %></td>
      <td><%= link_to 'Edit', edit_admin_product_detail_path(detail.product, detail) %></td>
      <td><%= link_to 'Destroy', admin_product_detail_path(detail.product, detail), confirm: 'Are you sure?', method: :delete %></td>
    </tr>
  <% end %>
  </table>
  <div class="action-bar wat-cf">
    <div class="actions">
      <%= link_to 'Add a new detail', new_admin_product_detail_path(@product) %>
    </div>
  </div>
</div>

<h2>Variants</h2>
<div class="inner">
  <table class="table">
    <tr>
      <th>SKU</th>
      <th>Number</th>
      <th>Description</th>
      <th>Display Reference</th>
      <th>Price</th>
      <th>Inventory</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>

  <% @product.variants.each do |variant| %>
    <tr>
      <td><%= variant.sku %></td>
      <td><%= variant.number %></td>
      <td><%= variant.description %></td>
      <td><%= variant.display_reference %></td>
      <td><%= variant.price %></td>
      <td><%= variant.inventory %></td>
      <td><%= link_to 'Show', admin_product_variant_path(variant.product, variant) %></td>
      <td><%= link_to 'Edit', edit_admin_product_variant_path(variant.product, variant) %></td>
      <td><%= link_to 'Destroy', admin_product_variant_path(variant.product, variant), :confirm => 'Are you sure?', :method => :delete %></td>
    </tr>
  <% end %>
  </table>
  <div class="action-bar wat-cf">
    <div class="actions">
      <%= link_to 'Add a new variant', new_admin_product_variant_path(@product) %>
    </div>
  </div>
</div>
 
<h2 class="title">Related products</h2>
<div class="inner">
  <table class="table">
    <tr>
      <th>Description</th>
      <th>Model number</th>
      <th></th>
    </tr>

  <% @product.related_products.each do |related_product| %>
    <tr>
      <td><%= related_product.description %></td>
      <td><%= related_product.model_number %></td>
      <td><%= link_to 'Destroy', remove_related_admin_product_path(@product, related_product), confirm: 'Are you sure?', method: :delete %></td>
    </tr>
  <% end %>
  </table>

  <%= form_for @product, :url => add_related_admin_product_path, :method => :post, :as => :related_product, :html => {:class => 'form'} do |f| %>
    <div class="group">
      <%= f.label :related_product %><br />
      <%= f.select :id, options_from_collection_for_select(@product.unrelated_products, :id, :description) %>
    </div>
    <div class="group navform wat-cf">
      <%= f.submit 'Add related product' %>
    </div>
  <% end %>
</div>

<% content_for :secondary_navigation do %>
  <li><%= link_to 'Edit', edit_admin_product_path(@product) %></li>
  <li><%= link_to 'Back', admin_products_path %></li>
<% end %>
