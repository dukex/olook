<p>
  <b>Name:</b>
  <%= @product.name %>
</p>

<p>
  <b>Model number:</b>
  <%= @product.model_number %>
</p>

<p>
  <b>Category:</b>
  <%= @product.category_humanize %>
</p>

<p>
  <b>Description:</b>
  <%= @product.description %>
</p>

<h2>Images</h2>
<table>
  <tr>
    <th>Display On</th>
    <th>Image</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @product.pictures.each do |picture| %>
  <tr>
    <td><%= picture.display_on_humanize %></td>
    <td><%= image_tag picture.image_url(:thumb).to_s %></td>
    <td><%= link_to 'Show', admin_product_picture_path(picture.product, picture) %></td>
    <td><%= link_to 'Edit', edit_admin_product_picture_path(picture.product, picture) %></td>
    <td><%= link_to 'Destroy', admin_product_picture_path(picture.product, picture), confirm: 'Are you sure?', method: :delete %></td>
  </tr>
<% end %>
</table>

<h2>Details</h2>
<table>
  <tr>
    <th>Translation token</th>
    <th>Description</th>
    <th>Display On</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @product.details.each do |detail| %>
  <tr>
    <td><%= detail.translation_token %></td>
    <td><%= detail.description %></td>
    <td><%= detail.display_on_humanize %></td>
    <td><%= link_to 'Show', admin_product_detail_path(detail.product, detail) %></td>
    <td><%= link_to 'Edit', edit_admin_product_detail_path(detail.product, detail) %></td>
    <td><%= link_to 'Destroy', admin_product_detail_path(detail.product, detail), confirm: 'Are you sure?', method: :delete %></td>
  </tr>
<% end %>
</table>

<h2>Variants</h2>
<table>
  <tr>
    <th>SKU</th>
    <th>Number</th>
    <th>Description</th>
    <th>Display Reference</th>
    <th>Price</th>
    <th>Inventory</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @product.variants.each do |variant| %>
  <tr>
    <td><%= variant.sku %></td>
    <td><%= variant.number %></td>
    <td><%= variant.description %></td>
    <td><%= variant.display_reference %></td>
    <td><%= variant.price %></td>
    <td><%= variant.inventory %></td>
    <td><%= link_to 'Show', admin_product_variant_path(variant.product, variant) %></td>
    <td><%= link_to 'Edit', edit_admin_product_variant_path(variant.product, variant) %></td>
    <td><%= link_to 'Destroy', admin_product_variant_path(variant.product, variant), confirm: 'Are you sure?', method: :delete %></td>
  </tr>
<% end %>
</table>

<h2>Related products</h2>
<table>
  <tr>
    <th>Description</th>
    <th>Model number</th>
    <th></th>
  </tr>

<% @product.related_products.each do |related_product| %>
  <tr>
    <td><%= related_product.description %></td>
    <td><%= related_product.model_number %></td>
    <td><%= link_to 'Destroy', remove_related_admin_product_path(@product, related_product), confirm: 'Are you sure?', method: :delete %></td>
  </tr>
<% end %>
</table>

<%= form_for @product, url: add_related_admin_product_path, method: :post, as: :related_product do |f| %>
  <p>
    <%= f.label :related_product %><br />
    <%= f.select :id, options_from_collection_for_select(@product.unrelated_products, :id, :description) %>
  </p>
  <p><%= f.submit 'Add related product' %></p>
<% end %>

<%= link_to 'Add a new picture', new_admin_product_picture_path(@product) %> |
<%= link_to 'Add a new detail', new_admin_product_detail_path(@product) %> |
<%= link_to 'Add a new variant', new_admin_product_variant_path(@product) %> |
<%= link_to 'Edit', edit_admin_product_path(@product) %> |
<%= link_to 'Back', admin_products_path %>
