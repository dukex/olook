<h2>Products</h2>
<div class="inner">
  <table class="table">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th style="width:100px">Picture</th>
      <th>Profile</th>
      <th>Model #</th>
      <th>Price</th>
      <th>Is Visible?</th>
      <th>Category</th>
      <th>Initial</th>
      <th>Inventory</th>
      <th>Color</th>
      <th></th>
    </tr>

    <%= form_tag(mark_specific_products_as_visible_admin_products_path) do %>
      <% products.each do |product| %>
        <tr>
          <td><%= product.id %></td>
          <td><%= product.name %></td>
          <td><%= image_tag(product.showroom_picture, size: '100x100') if product.showroom_picture %></td>
          <td><%= product.profiles.collect{ |p| p.name}.join(", ") %></td>
          <td><%= product.model_number %></td>
          <td><%= number_to_currency product.price %></td>
          <%= hidden_field_tag :collection_id, @collection.id %>
          <td><%= check_box_tag 'visible_products[]', product.id, product.is_visible %></td>
          <td><%= product.category_humanize %></td>
          <td><%= product.initial_inventory %></td>
          <td><%= product.inventory %></td>
          <td><%= product.color_name %></td>
          <td>
            <%= link_to "Preview", product_path(product), class: 'button info', target: "_blank" %>
            <%= link_to 'Show', admin_product_path(product), class: 'button' %>
            <%= link_to 'Edit', edit_admin_product_path(product), class: 'button' %>
          </td>
        </tr>
      <% end %>
      <%= submit_tag "Mark selected products as visible" %>
    <% end %>
  </table>
</div>
